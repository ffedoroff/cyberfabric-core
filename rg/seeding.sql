-- tenant T1 (11111111-1111-1111-1111-111111111111)
-- ├── department D2 (22222222-2222-2222-2222-222222222222)
-- │   ├── branch B3 (33333333-3333-3333-3333-333333333333)
-- │   │   └── resource R4
-- │   └── resource R5
-- ├── resource R4
-- ├── resource R6
-- └── tenant T7 (77777777-7777-7777-7777-777777777777)
--     └── resource R8
-- tenant T9 (99999999-9999-9999-9999-999999999999)
-- └── resource R0

BEGIN;

-- Group types used by the seed hierarchy.
INSERT INTO resource_group_type (code, ancestors)
VALUES
    ('tenant', '{}'),
    ('department', '{tenant}'),
    ('branch', '{department,tenant}');

-- Groups only (resources are stored in membership table, not as group_type/resource_group rows).
INSERT INTO resource_group (id, group_type, name, tenant_id, external_id)
VALUES
    ('11111111-1111-1111-1111-111111111111', 'tenant', 'T1', '11111111-1111-1111-1111-111111111111', 'T1'),
    ('22222222-2222-2222-2222-222222222222', 'department', 'D2', '11111111-1111-1111-1111-111111111111', 'D2'),
    ('33333333-3333-3333-3333-333333333333', 'branch', 'B3', '11111111-1111-1111-1111-111111111111', 'B3'),
    ('77777777-7777-7777-7777-777777777777', 'tenant', 'T7', '11111111-1111-1111-1111-111111111111', 'T7'),
    ('99999999-9999-9999-9999-999999999999', 'tenant', 'T9', '99999999-9999-9999-9999-999999999999', 'T9');

-- Closure entries for groups hierarchy.
INSERT INTO resource_group_closure (ancestor_id, descendant_id, depth)
VALUES
    -- self-links
    ('11111111-1111-1111-1111-111111111111'::uuid, '11111111-1111-1111-1111-111111111111'::uuid, 0),
    ('22222222-2222-2222-2222-222222222222'::uuid, '22222222-2222-2222-2222-222222222222'::uuid, 0),
    ('33333333-3333-3333-3333-333333333333'::uuid, '33333333-3333-3333-3333-333333333333'::uuid, 0),
    ('77777777-7777-7777-7777-777777777777'::uuid, '77777777-7777-7777-7777-777777777777'::uuid, 0),
    ('99999999-9999-9999-9999-999999999999'::uuid, '99999999-9999-9999-9999-999999999999'::uuid, 0),
    -- hierarchy links
    ('11111111-1111-1111-1111-111111111111'::uuid, '22222222-2222-2222-2222-222222222222'::uuid, 1),
    ('11111111-1111-1111-1111-111111111111'::uuid, '33333333-3333-3333-3333-333333333333'::uuid, 2),
    ('11111111-1111-1111-1111-111111111111'::uuid, '77777777-7777-7777-7777-777777777777'::uuid, 1),
    ('22222222-2222-2222-2222-222222222222'::uuid, '33333333-3333-3333-3333-333333333333'::uuid, 1);

-- Resource memberships from the requested tree.
INSERT INTO resource_group_membership (group_id, resource_type, resource_id, tenant_id)
VALUES
    ('33333333-3333-3333-3333-333333333333', 'resource', 'R4', '11111111-1111-1111-1111-111111111111'),
    ('22222222-2222-2222-2222-222222222222', 'resource', 'R5', '11111111-1111-1111-1111-111111111111'),
    ('11111111-1111-1111-1111-111111111111', 'resource', 'R4', '11111111-1111-1111-1111-111111111111'),
    ('11111111-1111-1111-1111-111111111111', 'resource', 'R6', '11111111-1111-1111-1111-111111111111'),
    ('77777777-7777-7777-7777-777777777777', 'resource', 'R8', '11111111-1111-1111-1111-111111111111'),
    ('99999999-9999-9999-9999-999999999999', 'resource', 'R0', '99999999-9999-9999-9999-999999999999');

COMMIT;
